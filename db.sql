CREATE TABLE media_file(id INTEGER PRIMARY KEY AUTOINCREMENT, location varchar(50) NOT NULL UNIQUE, type varchar(10) NOT NULL);
CREATE TABLE movie(id INTEGER PRIMARY KEY AUTOINCREMENT, title varchar(200) NOT NULL, year unsigned short integer, rated varchar(20), released varchar(20), runtime varchar(10), genre varchar(100), director varchar(200), writer varchar(200), actors varchar(500), plot varchar(5000), language varchar(20), country varchar(40), awards varchar(200), poster varchar(200), imdb_id varchar(10), production varchar(200), website varchar (200), media_file_id integer NOT NULL UNIQUE, FOREIGN KEY(media_file_id) REFERENCES media_file(id) ON DELETE CASCADE);
CREATE TABLE movie_ratings(id INTEGER PRIMARY KEY AUTOINCREMENT, source varchar(50), value varchar(10), movie_id integer NOT NULL, FOREIGN KEY(movie_id) REFERENCES movie(id) ON DELETE CASCADE);
CREATE TABLE series(id INTEGER PRIMARY KEY AUTOINCREMENT, title varchar(200) NOT NULL, year unsigned short integer, rated varchar(20), released varchar(20), runtime varchar(10), genre varchar(100), director varchar(200), writer varchar(200), actors varchar(500), plot varchar(5000), language varchar(20), country varchar(40), awards varchar(200), poster varchar(200), imdb_id varchar(10), total_seasons unsigned int, production varchar(200), website varchar (200));
CREATE TABLE series_ratings(id INTEGER PRIMARY KEY AUTOINCREMENT, source varchar(50), value varchar(10), series_id integer NOT NULL, FOREIGN KEY(series_id) REFERENCES series(id) ON DELETE CASCADE);
CREATE TABLE episode(id INTEGER PRIMARY KEY AUTOINCREMENT, title varchar(200) NOT NULL, year unsigned short integer, rated varchar(20), released varchar(20), season unsigned int, episode unsigned int, runtime varchar(10), genre varchar(100), director varchar(200), writer varchar(200), actors varchar(500), plot varchar(5000), language varchar(20), country varchar(40), awards varchar(200), poster varchar(200), imdb_id varchar(10), production varchar(200), website varchar (200), media_file_id integer NOT NULL, series_id integar NOT NULL, FOREIGN KEY(media_file_id) REFERENCES media_file(id) ON DELETE CASCADE, FOREIGN KEY(series_id) REFERENCES series(id) ON DELETE CASCADE);
CREATE TABLE episode_ratings(id INTEGER PRIMARY KEY AUTOINCREMENT, source varchar(50), value varchar(10), episode_id integer NOT NULL, FOREIGN KEY(episode_id) REFERENCES episode(id) ON DELETE CASCADE);
